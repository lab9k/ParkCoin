<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <title>ParkCoin</title>

    <link rel="stylesheet" type="text/css" href="css/semantic.min.css">

    <!--Libaries-->
    <script src="https://code.jquery.com/jquery-3.1.1.min.js" integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8="
        crossorigin="anonymous"></script>
    <script src="css/semantic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jsencrypt/2.3.1/jsencrypt.js"></script>
    <!--Stylesheets-->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/main.css">

    <!--Scripts-->
    <script src="js/main.js"></script>
</head>

<body>
    <div id='browser'>
        <div id='browser-bar' class='finder'>
            <h1>ParkCoin</h1>
            <span class='arrow entypo-resize-full'></span>
        </div>
        <div id='content'>

            <div id='right'>
                <div id="logo">
                    <img src="https://stad.gent/sites/all/themes/contrib/gent_base/img/svg/logo--part1.svg" id="stadGentSymbol">
                </div>

                <input id="tab1" type="radio" name="tabs" checked>
                <label for="tab1">Buy ticket</label>

                <input id="tab2" type="radio" name="tabs">
                <label for="tab2">Buy coins</label>

                <input id="tab3" type="radio" name="tabs">
                <label for="tab3">Change price rate</label>

                <section id="content1">
                    <form onsubmit="return false;">
                        <!-- <p>Pay parking ticket</p> -->
                        <select id="regio">
                                        <option value="0">Regio 0</option>
                                        <option value="1">Regio 1</option>
                                        <option value="2">Regio 2</option>
                                        <option value="3">Regio 3</option>
                                </select>
                        <input type="text" placeholder="License plate" id="licenseplate">
                        <input type="number" value="0" min="0" placeholder="tokens" id="time">
                        <button id="parkBtn">Pay</button>
                    </form>
                </section>

                <section id="content2">
                    <form onsubmit="return false;">
                        <input type="number" id="aantalTokens" placeholder="10">
                        <input type="text" id="priceEther" readonly>
                        <button id="buyBtn">Pay</button>
                    </form>
                </section>

                <section id="content3">
                    <p>
                        Bacon ipsum dolor sit amet beef venison beef ribs kielbasa. Sausage pig leberkas, t-bone sirloin shoulder bresaola. Frankfurter
                        rump porchetta ham. Pork belly prosciutto brisket meatloaf short ribs.
                    </p>
                    <p>
                        Brisket meatball turkey short loin boudin leberkas meatloaf chuck andouille pork loin pastrami spare ribs pancetta rump.
                        Frankfurter corned beef beef tenderloin short loin meatloaf swine ground round venison.
                    </p>
                </section>

                <section id="content4">
                    <p>
                        Bacon ipsum dolor sit amet landjaeger sausage brisket, jerky drumstick fatback boudin ball tip turducken. Pork belly meatball
                        t-bone bresaola tail filet mignon kevin turkey ribeye shank flank doner cow kielbasa shankle. Pig
                        swine chicken hamburger, tenderloin turkey rump ball tip sirloin frankfurter meatloaf boudin brisket
                        ham hock. Hamburger venison brisket tri-tip andouille pork belly ball tip short ribs biltong meatball
                        chuck. Pork chop ribeye tail short ribs, beef hamburger meatball kielbasa rump corned beef porchetta
                        landjaeger flank. Doner rump frankfurter meatball meatloaf, cow kevin pork pork loin venison fatback
                        spare ribs salami beef ribs.
                    </p>
                    <p>
                        Jerky jowl pork chop tongue, kielbasa shank venison. Capicola shank pig ribeye leberkas filet mignon brisket beef kevin tenderloin
                        porchetta. Capicola fatback venison shank kielbasa, drumstick ribeye landjaeger beef kevin tail meatball
                        pastrami prosciutto pancetta. Tail kevin spare ribs ground round ham ham hock brisket shoulder. Corned
                        beef tri-tip leberkas flank sausage ham hock filet mignon beef ribs pancetta turkey.
                    </p>
                </section>


            </div>
            <div id='left'>
                <div id="map"></div>
                <script>
                    function initMap() {
                        var map, infoWindow;
                        var map = new google.maps.Map(document.getElementById('map'), {
                            zoom: 4,
                            center: { lat: 49.496675, lng: -102.65625 }
                        });

                        var georssLayer = new google.maps.KmlLayer({
                            url: 'https://raw.githubusercontent.com/lab9k/Parking/master/site/data/Parkeertariefzones.kml'
                        });
                        georssLayer.setMap(map);

                        georssLayer.addListener('click', function (event) {
                            console.log(event.featureData.description);
                            $("#regio").val(event.featureData.ID);
                        });

                        infoWindow = new google.maps.InfoWindow;

                        // Try HTML5 geolocation.
                        if (navigator.geolocation) {
                            navigator.geolocation.getCurrentPosition(function (position) {
                                var pos = {
                                    lat: position.coords.latitude,
                                    lng: position.coords.longitude
                                };

                                infoWindow.setPosition(pos);
                                infoWindow.setContent('You are here');
                                infoWindow.open(map);
                                map.setCenter(pos);
                            }, function () {
                                handleLocationError(true, infoWindow, map.getCenter());
                            });
                        } else {
                            // Browser doesn't support Geolocation
                            handleLocationError(false, infoWindow, map.getCenter());
                        }
                    }

                    function handleLocationError(browserHasGeolocation, infoWindow, pos) {
                        infoWindow.setPosition(pos);
                        infoWindow.setContent(browserHasGeolocation ?
                            'Error: The Geolocation service failed.' :
                            'Error: Your browser doesn\'t support geolocation.');
                        infoWindow.open(map);
                    }
                </script>
                <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCb0o70S4s8TX0Ab4GWDHaA-63nSBaBFa4&callback=initMap">

                </script>
                <!-- <iframe id="map" src="https://www.google.com/maps/d/embed?mid=1LFi-OOa9AL3meBrmSiJ_dVGS7IE&q=51.0485107,3.728064"></iframe> -->
            </div>
        </div>
    </div>

    <script>
                    // When the window is loaded
                    window.addEventListener('load', function () {
                        // Create a ParkingRegistry object
                        let registry = new ParkingRegistry();
                        // Update the page with the information of the ParkingRegistry object
                        registry.update();
                    });
    </script>
</body>

</html>